import{j as e}from"./main-BKUcFAd0.js";let h={title:"FFmpeg Streaming",description:"H.264/MPEG-TS Video Publisher for Constellation Overwatch",icon:"Video"},d={contents:[{heading:"ffmpeg2constellation",content:"H.264/MPEG-TS Video Publisher for Constellation Overwatch."},{heading:"about",content:"FFmpeg2Constellation is a high-performance video streaming bridge that captures video from local devices or RTSP streams and publishes H.264/MPEG-TS to NATS JetStream. It serves as the video ingestion layer for Constellation Overwatch, enabling real-time video streaming from edge devices to WebRTC receivers."},{heading:"features",content:"H.264 Encoding - WebRTC-compatible baseline profile with ultrafast preset"},{heading:"features",content:"Universal Input - Auto-discovers USB cameras, RTSP streams, and virtual devices"},{heading:"features",content:"NATS JetStream - Reliable publishing with backpressure handling"},{heading:"features",content:"Low Latency - Zero-latency tuning, 1-second keyframe intervals"},{heading:"features",content:"Resilient - Auto-reconnects and restarts on failure"},{heading:"features",content:"Cross-Platform - macOS (AVFoundation) and Linux (V4L2)"},{heading:"prerequisites",content:"Go 1.21+"},{heading:"prerequisites",content:"FFmpeg with libx264 support"},{heading:"prerequisites",content:"Task (optional) - taskfile.dev"},{heading:"prerequisites",content:"Constellation Overwatch"},{heading:"configuration",content:"Create a .env file with your settings:"},{heading:"run",content:"Expected Output:"},{heading:"environment-variables",content:"Variable"},{heading:"environment-variables",content:"Description"},{heading:"environment-variables",content:"Required"},{heading:"environment-variables",content:"Default"},{heading:"environment-variables",content:"CONSTELLATION_ENTITY_ID"},{heading:"environment-variables",content:"Unique identifier for this video source"},{heading:"environment-variables",content:"Yes"},{heading:"environment-variables",content:"-"},{heading:"environment-variables",content:"NATS_URL"},{heading:"environment-variables",content:"NATS server URL"},{heading:"environment-variables",content:"No"},{heading:"environment-variables",content:"nats://localhost:4222"},{heading:"environment-variables",content:"NATS_TOKEN"},{heading:"environment-variables",content:"NATS authentication token"},{heading:"environment-variables",content:"No"},{heading:"environment-variables",content:"-"},{heading:"environment-variables",content:"ENABLE_FRAME_STREAMING"},{heading:"environment-variables",content:"Enable/disable streaming"},{heading:"environment-variables",content:"No"},{heading:"environment-variables",content:"false"},{heading:"environment-variables",content:"RTSP_URL"},{heading:"environment-variables",content:"RTSP stream URL (priority over device)"},{heading:"environment-variables",content:"No"},{heading:"environment-variables",content:"-"},{heading:"environment-variables",content:"DEVICE_PATH"},{heading:"environment-variables",content:"Specific device path"},{heading:"environment-variables",content:"No"},{heading:"environment-variables",content:"Auto-discovered"},{heading:"environment-variables",content:"TARGET_FPS"},{heading:"environment-variables",content:"Target framerate"},{heading:"environment-variables",content:"No"},{heading:"environment-variables",content:"15"},{heading:"environment-variables",content:"BITRATE"},{heading:"environment-variables",content:"Target bitrate"},{heading:"environment-variables",content:"No"},{heading:"environment-variables",content:"1500k"},{heading:"environment-variables",content:"MAX_BITRATE"},{heading:"environment-variables",content:"Maximum bitrate cap"},{heading:"environment-variables",content:"No"},{heading:"environment-variables",content:"2000k"},{heading:"environment-variables",content:"BUF_SIZE"},{heading:"environment-variables",content:"Encoder buffer size"},{heading:"environment-variables",content:"No"},{heading:"environment-variables",content:"500k"},{heading:"environment-variables",content:"MAX_DIMENSION"},{heading:"environment-variables",content:"Max width (height auto-scales)"},{heading:"environment-variables",content:"No"},{heading:"environment-variables",content:"1280"},{heading:"video-input-priority",content:"RTSP_URL environment variable"},{heading:"video-input-priority",content:"DEVICE_PATH environment variable"},{heading:"video-input-priority",content:"Auto-discovered devices"},{heading:"video-input-priority",content:"Test pattern fallback"},{heading:"nats-subject-format",content:"Example: constellation.video.drone-01"},{heading:"no-video-devices-found",content:"macOS: Grant camera permissions in System Preferences → Security & Privacy → Camera"},{heading:"no-video-devices-found",content:"Linux: Ensure user is in video group: sudo usermod -aG video $USER"},{heading:"greencorrupted-frames-on-receiver",content:"Ensure receiver waits for keyframe (IDR) before decoding"},{heading:"greencorrupted-frames-on-receiver",content:"Check network stability - dropped packets cause decoder artifacts"},{heading:"greencorrupted-frames-on-receiver",content:"Increase BITRATE if quality is poor"},{heading:"greencorrupted-frames-on-receiver",content:"type: info"},{heading:"greencorrupted-frames-on-receiver",content:"For full documentation and source code, see the GitHub repository."}],headings:[{id:"ffmpeg2constellation",content:"FFmpeg2Constellation"},{id:"about",content:"About"},{id:"features",content:"Features"},{id:"prerequisites",content:"Prerequisites"},{id:"quick-start",content:"Quick Start"},{id:"installation",content:"Installation"},{id:"configuration",content:"Configuration"},{id:"run",content:"Run"},{id:"configuration-1",content:"Configuration"},{id:"environment-variables",content:"Environment Variables"},{id:"video-input-priority",content:"Video Input Priority"},{id:"architecture",content:"Architecture"},{id:"ffmpeg-pipeline",content:"FFmpeg Pipeline"},{id:"nats-subject-format",content:"NATS Subject Format"},{id:"development",content:"Development"},{id:"task-commands",content:"Task Commands"},{id:"project-structure",content:"Project Structure"},{id:"troubleshooting",content:"Troubleshooting"},{id:"connection-issues",content:"Connection Issues"},{id:"no-video-devices-found",content:"No Video Devices Found"},{id:"greencorrupted-frames-on-receiver",content:"Green/Corrupted Frames on Receiver"}]};const c=[{depth:1,url:"#ffmpeg2constellation",title:e.jsx(e.Fragment,{children:"FFmpeg2Constellation"})},{depth:2,url:"#about",title:e.jsx(e.Fragment,{children:"About"})},{depth:2,url:"#features",title:e.jsx(e.Fragment,{children:"Features"})},{depth:2,url:"#prerequisites",title:e.jsx(e.Fragment,{children:"Prerequisites"})},{depth:2,url:"#quick-start",title:e.jsx(e.Fragment,{children:"Quick Start"})},{depth:3,url:"#installation",title:e.jsx(e.Fragment,{children:"Installation"})},{depth:3,url:"#configuration",title:e.jsx(e.Fragment,{children:"Configuration"})},{depth:3,url:"#run",title:e.jsx(e.Fragment,{children:"Run"})},{depth:2,url:"#configuration-1",title:e.jsx(e.Fragment,{children:"Configuration"})},{depth:3,url:"#environment-variables",title:e.jsx(e.Fragment,{children:"Environment Variables"})},{depth:3,url:"#video-input-priority",title:e.jsx(e.Fragment,{children:"Video Input Priority"})},{depth:2,url:"#architecture",title:e.jsx(e.Fragment,{children:"Architecture"})},{depth:3,url:"#ffmpeg-pipeline",title:e.jsx(e.Fragment,{children:"FFmpeg Pipeline"})},{depth:3,url:"#nats-subject-format",title:e.jsx(e.Fragment,{children:"NATS Subject Format"})},{depth:2,url:"#development",title:e.jsx(e.Fragment,{children:"Development"})},{depth:3,url:"#task-commands",title:e.jsx(e.Fragment,{children:"Task Commands"})},{depth:3,url:"#project-structure",title:e.jsx(e.Fragment,{children:"Project Structure"})},{depth:2,url:"#troubleshooting",title:e.jsx(e.Fragment,{children:"Troubleshooting"})},{depth:3,url:"#connection-issues",title:e.jsx(e.Fragment,{children:"Connection Issues"})},{depth:3,url:"#no-video-devices-found",title:e.jsx(e.Fragment,{children:"No Video Devices Found"})},{depth:3,url:"#greencorrupted-frames-on-receiver",title:e.jsx(e.Fragment,{children:"Green/Corrupted Frames on Receiver"})}];function r(n){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...n.components},{Callout:s,Mermaid:t}=i;return s||l("Callout"),t||l("Mermaid"),e.jsxs(e.Fragment,{children:[e.jsx(i.h1,{id:"ffmpeg2constellation",children:"FFmpeg2Constellation"}),`
`,e.jsx(i.p,{children:"H.264/MPEG-TS Video Publisher for Constellation Overwatch."}),`
`,e.jsx(i.h2,{id:"about",children:"About"}),`
`,e.jsxs(i.p,{children:[e.jsx(i.strong,{children:"FFmpeg2Constellation"})," is a high-performance video streaming bridge that captures video from local devices or RTSP streams and publishes H.264/MPEG-TS to NATS JetStream. It serves as the video ingestion layer for ",e.jsx(i.a,{href:"https://github.com/Constellation-Overwatch/constellation-overwatch",children:"Constellation Overwatch"}),", enabling real-time video streaming from edge devices to WebRTC receivers."]}),`
`,e.jsx(i.h2,{id:"features",children:"Features"}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"H.264 Encoding"})," - WebRTC-compatible baseline profile with ultrafast preset"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Universal Input"})," - Auto-discovers USB cameras, RTSP streams, and virtual devices"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"NATS JetStream"})," - Reliable publishing with backpressure handling"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Low Latency"})," - Zero-latency tuning, 1-second keyframe intervals"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Resilient"})," - Auto-reconnects and restarts on failure"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Cross-Platform"})," - macOS (AVFoundation) and Linux (V4L2)"]}),`
`]}),`
`,e.jsx(i.h2,{id:"prerequisites",children:"Prerequisites"}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsx(i.li,{children:e.jsx(i.strong,{children:"Go 1.21+"})}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"FFmpeg"})," with libx264 support"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Task"})," (optional) - ",e.jsx(i.a,{href:"https://taskfile.dev",children:"taskfile.dev"})]}),`
`,e.jsx(i.li,{children:e.jsx(i.strong,{children:e.jsx(i.a,{href:"https://github.com/Constellation-Overwatch/constellation-overwatch",children:"Constellation Overwatch"})})}),`
`]}),`
`,e.jsx(i.h2,{id:"quick-start",children:"Quick Start"}),`
`,e.jsx(i.h3,{id:"installation",children:"Installation"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"git"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" clone"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" https://github.com/Constellation-Overwatch/ffmpeg2constellation.git"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ffmpeg2constellation"})]})]})})}),`
`,e.jsx(i.h3,{id:"configuration",children:"Configuration"}),`
`,e.jsxs(i.p,{children:["Create a ",e.jsx(i.code,{children:".env"})," file with your settings:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Required"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"CONSTELLATION_ENTITY_ID"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"drone-01"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NATS_URL"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"nats://localhost:4222"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"NATS_TOKEN"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"your_token_here"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"ENABLE_FRAME_STREAMING"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"true"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Video Input (optional - auto-discovered if not set)"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# RTSP_URL=rtsp://192.168.1.100:554/stream"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# DEVICE_PATH=/dev/video0"})}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Encoding (optional - sensible defaults)"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# TARGET_FPS=15"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# BITRATE=1500k"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# MAX_BITRATE=2000k"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# MAX_DIMENSION=1280"})})]})})}),`
`,e.jsx(i.h3,{id:"run",children:"Run"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Using Task"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Or directly"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"go"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ./cmd/microlith"})]})]})})}),`
`,e.jsx(i.p,{children:e.jsx(i.strong,{children:"Expected Output:"})}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"=== FFmpeg2Constellation Video Publisher ==="})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"Entity ID: drone-01"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"NATS URL: nats://localhost:4222"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"Connected to Constellation Overwatch NATS server"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"Stream 'CONSTELLATION_VIDEO' ready for publishing"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"Video source: [-f avfoundation -framerate 30 -pixel_format yuyv422 -i 0]"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"Publishing to: constellation.video.drone-01"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"Encoding: H.264 baseline @ 1500k (2000k max), 15 fps"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"Starting video stream..."})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"Publishing MPEG-TS stream..."})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"[STREAM] 500 chunks | 1521 kbps | dropped: 0 | uptime: 30s"})})]})})}),`
`,e.jsx(i.h2,{id:"configuration-1",children:"Configuration"}),`
`,e.jsx(i.h3,{id:"environment-variables",children:"Environment Variables"}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Variable"}),e.jsx(i.th,{children:"Description"}),e.jsx(i.th,{children:"Required"}),e.jsx(i.th,{children:"Default"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"CONSTELLATION_ENTITY_ID"})}),e.jsx(i.td,{children:"Unique identifier for this video source"}),e.jsx(i.td,{children:e.jsx(i.strong,{children:"Yes"})}),e.jsx(i.td,{children:"-"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"NATS_URL"})}),e.jsx(i.td,{children:"NATS server URL"}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:e.jsx(i.code,{children:"nats://localhost:4222"})})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"NATS_TOKEN"})}),e.jsx(i.td,{children:"NATS authentication token"}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"-"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"ENABLE_FRAME_STREAMING"})}),e.jsx(i.td,{children:"Enable/disable streaming"}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:e.jsx(i.code,{children:"false"})})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"RTSP_URL"})}),e.jsx(i.td,{children:"RTSP stream URL (priority over device)"}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"-"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"DEVICE_PATH"})}),e.jsx(i.td,{children:"Specific device path"}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:"Auto-discovered"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"TARGET_FPS"})}),e.jsx(i.td,{children:"Target framerate"}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:e.jsx(i.code,{children:"15"})})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"BITRATE"})}),e.jsx(i.td,{children:"Target bitrate"}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:e.jsx(i.code,{children:"1500k"})})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"MAX_BITRATE"})}),e.jsx(i.td,{children:"Maximum bitrate cap"}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:e.jsx(i.code,{children:"2000k"})})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"BUF_SIZE"})}),e.jsx(i.td,{children:"Encoder buffer size"}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:e.jsx(i.code,{children:"500k"})})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"MAX_DIMENSION"})}),e.jsx(i.td,{children:"Max width (height auto-scales)"}),e.jsx(i.td,{children:"No"}),e.jsx(i.td,{children:e.jsx(i.code,{children:"1280"})})]})]})]}),`
`,e.jsx(i.h3,{id:"video-input-priority",children:"Video Input Priority"}),`
`,e.jsxs(i.ol,{children:[`
`,e.jsxs(i.li,{children:[e.jsx(i.code,{children:"RTSP_URL"})," environment variable"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.code,{children:"DEVICE_PATH"})," environment variable"]}),`
`,e.jsx(i.li,{children:"Auto-discovered devices"}),`
`,e.jsx(i.li,{children:"Test pattern fallback"}),`
`]}),`
`,e.jsx(i.h2,{id:"architecture",children:"Architecture"}),`
`,e.jsx(t,{chart:`
flowchart LR
subgraph Edge[Edge Device]
CAM[Camera RTSP/USB]
FF[FFmpeg libx264]
PUB[FFmpeg2Constellation NATS Publisher]
CAM -->|Raw Video| FF
FF -->|MPEG-TS H.264| PUB
end
subgraph Constellation[Constellation Overwatch]
NATS[NATS JetStream]
BRIDGE[Video Bridge MPEG-TS to RTP]
WEB[WebRTC Clients]
NATS -->|Subscribe| BRIDGE
BRIDGE -->|RTP/WebRTC| WEB
end
PUB -->|Publish constellation.video.*| NATS
`}),`
`,e.jsx(i.h3,{id:"ffmpeg-pipeline",children:"FFmpeg Pipeline"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"ffmpeg"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -hide_banner"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -loglevel"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" error"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" \\"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  -f"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" avfoundation"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -framerate"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 30"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -pixel_format"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" yuyv422"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -i"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 0"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" \\"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  -vf"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:` "fps=15,scale='min(1280,iw)':-1"`}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" \\"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  -c:v"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" libx264"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" \\"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  -preset"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" ultrafast"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" \\"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  -tune"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" zerolatency"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" \\"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  -profile:v"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" baseline"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" \\"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  -level"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 3.1"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" \\"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  -pix_fmt"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" yuv420p"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" \\"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  -g"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 15"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -keyint_min"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 15"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -sc_threshold"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 0"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" \\"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  -b:v"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" 1500k"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -maxrate"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" 2000k"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -bufsize"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" 500k"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" \\"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  -f"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" mpegts"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" \\"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"  -mpegts_flags"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" +initial_discontinuity"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" \\"})]}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"  -"})})]})})}),`
`,e.jsx(i.h3,{id:"nats-subject-format",children:"NATS Subject Format"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsx(i.code,{children:e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"constellation.video.{CONSTELLATION_ENTITY_ID}"})})})})}),`
`,e.jsxs(i.p,{children:["Example: ",e.jsx(i.code,{children:"constellation.video.drone-01"})]}),`
`,e.jsx(i.h2,{id:"development",children:"Development"}),`
`,e.jsx(i.h3,{id:"task-commands",children:"Task Commands"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"              # Show available tasks"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" build"}),e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"        # Build binary to bin/"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"          # Build and run"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" clean"}),e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"        # Clean build artifacts"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" docker-build"}),e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:" # Build Docker image"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" docker-run"}),e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"   # Start with Docker Compose"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" docker-stop"}),e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  # Stop Docker Compose"})]})]})})}),`
`,e.jsx(i.h3,{id:"project-structure",children:"Project Structure"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"ffmpeg2constellation/"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"├── cmd/"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   └── microlith/"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│       └── main.go          # Entry point"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"├── pkg/"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   ├── config/"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   └── init.go          # Configuration loader"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   ├── services/"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   ├── discovery/"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   │   └── discovery.go # Device auto-discovery"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   └── ffmpeg/"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │       └── ffmpeg.go    # FFmpeg runner & publisher"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   └── shared/"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│       └── constants.go     # Constants & defaults"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"├── public/"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   └── overwatch.svg        # Logo"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"├── .env.example             # Example configuration"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"├── Taskfile.yml             # Task runner config"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"└── README.md"})})]})})}),`
`,e.jsx(i.h2,{id:"troubleshooting",children:"Troubleshooting"}),`
`,e.jsx(i.h3,{id:"connection-issues",children:"Connection Issues"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"--- Constellation Overwatch Connection Help ---"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"Unable to connect to Constellation Overwatch NATS server."})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"Troubleshooting steps:"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"  1. Verify Constellation Overwatch is running"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"  2. Check NATS_URL is correct (default: nats://localhost:4222)"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"  3. Verify NATS_TOKEN matches your Constellation Overwatch configuration"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"  4. Ensure network connectivity to the NATS server"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"  5. Check firewall rules allow port 4222"})})]})})}),`
`,e.jsx(i.h3,{id:"no-video-devices-found",children:"No Video Devices Found"}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"macOS"}),": Grant camera permissions in System Preferences → Security & Privacy → Camera"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Linux"}),": Ensure user is in ",e.jsx(i.code,{children:"video"})," group: ",e.jsx(i.code,{children:"sudo usermod -aG video $USER"})]}),`
`]}),`
`,e.jsx(i.h3,{id:"greencorrupted-frames-on-receiver",children:"Green/Corrupted Frames on Receiver"}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsx(i.li,{children:"Ensure receiver waits for keyframe (IDR) before decoding"}),`
`,e.jsx(i.li,{children:"Check network stability - dropped packets cause decoder artifacts"}),`
`,e.jsxs(i.li,{children:["Increase ",e.jsx(i.code,{children:"BITRATE"})," if quality is poor"]}),`
`]}),`
`,e.jsx(i.hr,{}),`
`,e.jsx(s,{type:"info",children:e.jsxs(i.p,{children:["For full documentation and source code, see the ",e.jsx(i.a,{href:"https://github.com/Constellation-Overwatch/ffmpeg2constellation",children:"GitHub repository"}),"."]})})]})}function o(n={}){const{wrapper:i}=n.components||{};return i?e.jsx(i,{...n,children:e.jsx(r,{...n})}):r(n)}function l(n,i){throw new Error("Expected component `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}export{o as default,h as frontmatter,d as structuredData,c as toc};
