import{j as i}from"./main-BKUcFAd0.js";let c={title:"IaC Toolbelt",description:"Infrastructure as Code toolbelt for rapid deployment of Constellation Overwatch C4ISR Server Mesh on Linode",icon:"Wrench"},h={contents:[{heading:"constellation-overwatch-iac-toolbelt",content:"Open source Infrastructure as Code (IaC) toolbelt for rapid deployment of Constellation Overwatch C4ISR Server Mesh on Linode."},{heading:"about",content:"The Constellation Overwatch IaC Toolbelt is a specialized suite of automation tools designed to streamline the deployment of the Constellation Overwatch C4ISR server mesh. By leveraging industry-standard Infrastructure as Code (IaC) principles, this toolbelt enables rapid, reproducible, and secure provisioning of cloud computing resources."},{heading:"about",content:"Currently optimized for Linode, it automates the entire lifecycle of your infrastructure—from spinning up virtual private servers (VPS) to configuring security layers and deploying the application stack."},{heading:"about",content:"type: warn"},{heading:"about",content:"This toolbelt currently only supports Linode as a cloud provider. Support for additional providers is planned for future releases."},{heading:"features",content:"One-Command Deployment using Task runner for a simplified developer experience"},{heading:"features",content:"Automated Provisioning of Linode instances via Terraform"},{heading:"features",content:"Security Hardening including UFW firewall, Fail2Ban, and SSH key enforcement"},{heading:"features",content:"Container Orchestration with Docker and Docker Compose for application isolation"},{heading:"features",content:"Reverse Proxy Configuration using Nginx with automatic SSL and rate limiting"},{heading:"features",content:"Idempotent Configuration via Ansible to ensure consistent server state"},{heading:"features",content:"GHCR Integration for pulling the latest authenticated container images"},{heading:"features",content:"Disaster Recovery with automated backup and restore capabilities"},{heading:"roadmap",content:"Multi-Cloud Support (AWS, GCP, Azure)"},{heading:"roadmap",content:"Kubernetes (K8s) Support for larger scale deployments"},{heading:"roadmap",content:"GitOps Integration for continuous delivery"},{heading:"roadmap",content:"Monitoring Stack with Prometheus and Grafana pre-configured"},{heading:"roadmap",content:"VPN Integration for secure private networking between nodes"},{heading:"prerequisites",content:"Task - Task runner"},{heading:"prerequisites",content:"Terraform >= 1.0"},{heading:"prerequisites",content:"Ansible >= 2.9"},{heading:"prerequisites",content:"Linode Account and API Token"},{heading:"prerequisites",content:"GitHub Account (for GHCR access)"},{heading:"quick-start",content:"Clone the repository and initialize the configuration:"},{heading:"quick-start",content:"Edit the generated .env file with your credentials:"},{heading:"quick-start",content:"Deploy the infrastructure:"},{heading:"access-your-deployment",content:"After successful deployment, access your Constellation Overwatch instance:"},{heading:"direct-port-access",content:"Service"},{heading:"direct-port-access",content:"URL"},{heading:"direct-port-access",content:"Web UI"},{heading:"direct-port-access",content:"http://YOUR_SERVER_IP:8080"},{heading:"direct-port-access",content:"NATS Client"},{heading:"direct-port-access",content:"nats://YOUR_SERVER_IP:4222"},{heading:"direct-port-access",content:"NATS Monitoring"},{heading:"direct-port-access",content:"http://YOUR_SERVER_IP:8222"},{heading:"ssl-certificate-setup-optional",content:"If you configured a domain name, SSL certificates will be automatically requested:"},{heading:"available-commands",content:"The Taskfile.yml provides a set of convenient commands:"},{heading:"http-only-mode-default",content:"Access via server IP on port 80 (HTTP)"},{heading:"http-only-mode-default",content:"No SSL certificates required"},{heading:"http-only-mode-default",content:"Ideal for development and internal networks"},{heading:"https-mode-with-domain",content:"Automatic SSL certificates via Let's Encrypt"},{heading:"https-mode-with-domain",content:"HTTP redirects to HTTPS"},{heading:"https-mode-with-domain",content:"Production-ready configuration"},{heading:"application-configuration",content:"The deployment automatically configures the Constellation Overwatch application with secure defaults:"},{heading:"application-configuration",content:"Variable"},{heading:"application-configuration",content:"Value"},{heading:"application-configuration",content:"Description"},{heading:"application-configuration",content:"API_BEARER_TOKEN"},{heading:"application-configuration",content:"reindustrialize-dev-token"},{heading:"application-configuration",content:"API Security"},{heading:"application-configuration",content:"HOST"},{heading:"application-configuration",content:"0.0.0.0"},{heading:"application-configuration",content:"All interfaces (accessible externally)"},{heading:"application-configuration",content:"PORT"},{heading:"application-configuration",content:"8080"},{heading:"application-configuration",content:"Web UI and API port"},{heading:"application-configuration",content:"DB_PATH"},{heading:"application-configuration",content:"./data/constellation.db"},{heading:"application-configuration",content:"SQLite database location"},{heading:"application-configuration",content:"NATS_HOST"},{heading:"application-configuration",content:"0.0.0.0"},{heading:"application-configuration",content:"All interfaces (accessible externally)"},{heading:"application-configuration",content:"NATS_PORT"},{heading:"application-configuration",content:"4222"},{heading:"application-configuration",content:"NATS client port"},{heading:"application-configuration",content:"NATS_DATA_DIR"},{heading:"application-configuration",content:"./data/overwatch"},{heading:"application-configuration",content:"NATS data storage"},{heading:"application-configuration",content:"NATS_ENABLE_AUTH"},{heading:"application-configuration",content:"true"},{heading:"application-configuration",content:"Authentication enabled"},{heading:"application-configuration",content:"NATS_AUTH_TOKEN"},{heading:"application-configuration",content:"reindustrialize-america"},{heading:"application-configuration",content:"NATS token"},{heading:"application-configuration",content:"NATS_JETSTREAM"},{heading:"application-configuration",content:"true"},{heading:"application-configuration",content:"Enable JetStream"},{heading:"application-configuration",content:"WEB_UI_PASSWORD"},{heading:"application-configuration",content:"reindustrialize"},{heading:"application-configuration",content:"Web UI password"},{heading:"application-configuration",content:"ALLOWED_ORIGINS"},{heading:"application-configuration",content:"*"},{heading:"application-configuration",content:"CORS policy"},{heading:"advanced-customization",content:"To modify application settings, edit the template files:"},{heading:"advanced-customization",content:"File"},{heading:"advanced-customization",content:"Purpose"},{heading:"advanced-customization",content:"ansible/roles/constellation/templates/constellation.env.j2"},{heading:"advanced-customization",content:"Environment Variables"},{heading:"advanced-customization",content:"ansible/roles/constellation/templates/docker-compose.yml.j2"},{heading:"advanced-customization",content:"Docker Configuration"},{heading:"advanced-customization",content:"ansible/roles/constellation/templates/nginx.conf.j2"},{heading:"advanced-customization",content:"Nginx Proxy"},{heading:"advanced-customization",content:"ansible/roles/constellation/templates/constellation-overwatch.service.j2"},{heading:"advanced-customization",content:"Systemd Service"},{heading:"advanced-customization",content:"After modifications, redeploy with:"},{heading:"nginx-container-restarting",content:"Cause: SSL certificates missing but domain configured"},{heading:"nginx-container-restarting",content:"Solution: Wait for certbot to complete, or temporarily disable domain"},{heading:"nginx-container-restarting",content:"Check: task logs | grep nginx"},{heading:"ssl-certificate-failures",content:"Rate Limits: Let's Encrypt limits 5 failures per hour per domain"},{heading:"ssl-certificate-failures",content:"Solution: Wait for rate limit reset or use --staging flag for testing"},{heading:"ssl-certificate-failures",content:"Check: task logs | grep certbot"},{heading:"application-not-accessible",content:"Ports: Ensure ports 80, 443, 4222, 8080, 8222 are open"},{heading:"application-not-accessible",content:"Health Check: Run task health to verify all services"},{heading:"application-not-accessible",content:"Firewall: Check UFW status with ufw status"},{heading:"websocket-connection-issues",content:"nginx: Verify WebSocket headers in nginx configuration"},{heading:"websocket-connection-issues",content:"CORS: Check ALLOWED_ORIGINS environment variable"},{heading:"websocket-connection-issues",content:"Ports: Ensure application binds to 0.0.0.0:8080 not 127.0.0.1:8080"},{heading:"container-health-checks-failing",content:"App Startup: Check task logs for application startup errors"},{heading:"container-health-checks-failing",content:"Database: Verify SQLite database file permissions"},{heading:"container-health-checks-failing",content:"NATS: Ensure NATS authentication tokens match"},{heading:"container-health-checks-failing",content:"type: info"},{heading:"container-health-checks-failing",content:"For full documentation and source code, see the GitHub repository."}],headings:[{id:"constellation-overwatch-iac-toolbelt",content:"Constellation Overwatch IaC Toolbelt"},{id:"about",content:"About"},{id:"features",content:"Features"},{id:"roadmap",content:"Roadmap"},{id:"architecture",content:"Architecture"},{id:"prerequisites",content:"Prerequisites"},{id:"quick-start",content:"Quick Start"},{id:"access-your-deployment",content:"Access Your Deployment"},{id:"ip-only-access-no-domain-configured",content:"IP-Only Access (no domain configured)"},{id:"domain-access-if-configured",content:"Domain Access (if configured)"},{id:"direct-port-access",content:"Direct Port Access"},{id:"ssl-certificate-setup-optional",content:"SSL Certificate Setup (Optional)"},{id:"available-commands",content:"Available Commands"},{id:"deployment-modes",content:"Deployment Modes"},{id:"http-only-mode-default",content:"HTTP-Only Mode (Default)"},{id:"https-mode-with-domain",content:"HTTPS Mode with Domain"},{id:"application-configuration",content:"Application Configuration"},{id:"advanced-customization",content:"Advanced Customization"},{id:"project-structure",content:"Project Structure"},{id:"troubleshooting",content:"Troubleshooting"},{id:"nginx-container-restarting",content:"nginx Container Restarting"},{id:"ssl-certificate-failures",content:"SSL Certificate Failures"},{id:"application-not-accessible",content:"Application Not Accessible"},{id:"websocket-connection-issues",content:"WebSocket Connection Issues"},{id:"container-health-checks-failing",content:"Container Health Checks Failing"}]};const o=[{depth:1,url:"#constellation-overwatch-iac-toolbelt",title:i.jsx(i.Fragment,{children:"Constellation Overwatch IaC Toolbelt"})},{depth:2,url:"#about",title:i.jsx(i.Fragment,{children:"About"})},{depth:2,url:"#features",title:i.jsx(i.Fragment,{children:"Features"})},{depth:3,url:"#roadmap",title:i.jsx(i.Fragment,{children:"Roadmap"})},{depth:2,url:"#architecture",title:i.jsx(i.Fragment,{children:"Architecture"})},{depth:2,url:"#prerequisites",title:i.jsx(i.Fragment,{children:"Prerequisites"})},{depth:2,url:"#quick-start",title:i.jsx(i.Fragment,{children:"Quick Start"})},{depth:2,url:"#access-your-deployment",title:i.jsx(i.Fragment,{children:"Access Your Deployment"})},{depth:3,url:"#ip-only-access-no-domain-configured",title:i.jsx(i.Fragment,{children:"IP-Only Access (no domain configured)"})},{depth:3,url:"#domain-access-if-configured",title:i.jsx(i.Fragment,{children:"Domain Access (if configured)"})},{depth:3,url:"#direct-port-access",title:i.jsx(i.Fragment,{children:"Direct Port Access"})},{depth:3,url:"#ssl-certificate-setup-optional",title:i.jsx(i.Fragment,{children:"SSL Certificate Setup (Optional)"})},{depth:2,url:"#available-commands",title:i.jsx(i.Fragment,{children:"Available Commands"})},{depth:2,url:"#deployment-modes",title:i.jsx(i.Fragment,{children:"Deployment Modes"})},{depth:3,url:"#http-only-mode-default",title:i.jsx(i.Fragment,{children:"HTTP-Only Mode (Default)"})},{depth:3,url:"#https-mode-with-domain",title:i.jsx(i.Fragment,{children:"HTTPS Mode with Domain"})},{depth:2,url:"#application-configuration",title:i.jsx(i.Fragment,{children:"Application Configuration"})},{depth:3,url:"#advanced-customization",title:i.jsx(i.Fragment,{children:"Advanced Customization"})},{depth:2,url:"#project-structure",title:i.jsx(i.Fragment,{children:"Project Structure"})},{depth:2,url:"#troubleshooting",title:i.jsx(i.Fragment,{children:"Troubleshooting"})},{depth:3,url:"#nginx-container-restarting",title:i.jsx(i.Fragment,{children:"nginx Container Restarting"})},{depth:3,url:"#ssl-certificate-failures",title:i.jsx(i.Fragment,{children:"SSL Certificate Failures"})},{depth:3,url:"#application-not-accessible",title:i.jsx(i.Fragment,{children:"Application Not Accessible"})},{depth:3,url:"#websocket-connection-issues",title:i.jsx(i.Fragment,{children:"WebSocket Connection Issues"})},{depth:3,url:"#container-health-checks-failing",title:i.jsx(i.Fragment,{children:"Container Health Checks Failing"})}];function a(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...n.components},{Callout:s,Mermaid:t}=e;return s||l("Callout"),t||l("Mermaid"),i.jsxs(i.Fragment,{children:[i.jsx(e.h1,{id:"constellation-overwatch-iac-toolbelt",children:"Constellation Overwatch IaC Toolbelt"}),`
`,i.jsx(e.p,{children:"Open source Infrastructure as Code (IaC) toolbelt for rapid deployment of Constellation Overwatch C4ISR Server Mesh on Linode."}),`
`,i.jsx(e.h2,{id:"about",children:"About"}),`
`,i.jsxs(e.p,{children:["The ",i.jsx(e.strong,{children:"Constellation Overwatch IaC Toolbelt"})," is a specialized suite of automation tools designed to streamline the deployment of the Constellation Overwatch C4ISR server mesh. By leveraging industry-standard Infrastructure as Code (IaC) principles, this toolbelt enables rapid, reproducible, and secure provisioning of cloud computing resources."]}),`
`,i.jsxs(e.p,{children:["Currently optimized for ",i.jsx(e.strong,{children:"Linode"}),", it automates the entire lifecycle of your infrastructure—from spinning up virtual private servers (VPS) to configuring security layers and deploying the application stack."]}),`
`,i.jsx(s,{type:"warn",children:i.jsxs(e.p,{children:["This toolbelt currently ",i.jsx(e.strong,{children:"only supports Linode"})," as a cloud provider. Support for additional providers is planned for future releases."]})}),`
`,i.jsx(e.h2,{id:"features",children:"Features"}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"One-Command Deployment"})," using Task runner for a simplified developer experience"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Automated Provisioning"})," of Linode instances via Terraform"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Security Hardening"})," including UFW firewall, Fail2Ban, and SSH key enforcement"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Container Orchestration"})," with Docker and Docker Compose for application isolation"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Reverse Proxy Configuration"})," using Nginx with automatic SSL and rate limiting"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Idempotent Configuration"})," via Ansible to ensure consistent server state"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"GHCR Integration"})," for pulling the latest authenticated container images"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Disaster Recovery"})," with automated backup and restore capabilities"]}),`
`]}),`
`,i.jsx(e.h3,{id:"roadmap",children:"Roadmap"}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Multi-Cloud Support"})," (AWS, GCP, Azure)"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Kubernetes (K8s) Support"})," for larger scale deployments"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"GitOps Integration"})," for continuous delivery"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Monitoring Stack"})," with Prometheus and Grafana pre-configured"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"VPN Integration"})," for secure private networking between nodes"]}),`
`]}),`
`,i.jsx(e.h2,{id:"architecture",children:"Architecture"}),`
`,i.jsx(t,{chart:`
graph TD
subgraph Local[Local Control Plane]
Operator[Operator]
Task[Task Runner]
IaC[Terraform / Ansible]
Operator --> Task --> IaC
end
subgraph Linode[Linode Cloud]
subgraph VPS[Linode VPS - Ubuntu 24.04]
subgraph Security[Security Layer]
UFW[UFW Firewall]
F2B[Fail2Ban]
SSH[Hardened SSH]
end
subgraph App[Application Layer]
Nginx[Nginx Proxy]
subgraph Containers[Containers]
OW[Constellation Overwatch]
NATS[Embedded NATS]
end
end
end
end
IaC -->|Provisions & Configures| VPS
Security --> Nginx
Nginx --> OW
OW --> NATS
`}),`
`,i.jsx(e.h2,{id:"prerequisites",children:"Prerequisites"}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsxs(e.li,{children:[i.jsx(e.a,{href:"https://taskfile.dev/",children:"Task"})," - Task runner"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.a,{href:"https://terraform.io/",children:"Terraform"})," >= 1.0"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.a,{href:"https://ansible.com/",children:"Ansible"})," >= 2.9"]}),`
`,i.jsx(e.li,{children:"Linode Account and API Token"}),`
`,i.jsx(e.li,{children:"GitHub Account (for GHCR access)"}),`
`]}),`
`,i.jsx(e.h2,{id:"quick-start",children:"Quick Start"}),`
`,i.jsx(e.p,{children:"Clone the repository and initialize the configuration:"}),`
`,i.jsx(i.Fragment,{children:i.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:i.jsxs(e.code,{children:[i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Clone the repository"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"git"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" clone"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" https://github.com/Constellation-Overwatch/overwatch-iac-toolbelt.git"})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch-iac-toolbelt"})]}),`
`,i.jsx(e.span,{className:"line"}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Setup configuration files"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" setup-config"})]})]})})}),`
`,i.jsxs(e.p,{children:["Edit the generated ",i.jsx(e.code,{children:".env"})," file with your credentials:"]}),`
`,i.jsx(i.Fragment,{children:i.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:i.jsxs(e.code,{children:[i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Linode Configuration"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TF_VAR_linode_token"}),i.jsx(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"your_linode_personal_access_token"'})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TF_VAR_root_password"}),i.jsx(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"your_secure_root_password"'})]}),`
`,i.jsx(e.span,{className:"line"}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# SSH Configuration"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TF_VAR_ssh_public_key"}),i.jsx(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"ssh-ed25519 AAAAC3... your-email@example.com"'})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TF_VAR_ssh_private_key_file"}),i.jsx(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"~/.ssh/id_ed25519"'})]}),`
`,i.jsx(e.span,{className:"line"}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# GitHub Container Registry"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TF_VAR_github_username"}),i.jsx(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"your_github_username"'})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TF_VAR_github_token"}),i.jsx(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"ghp_your_github_personal_access_token"'})]}),`
`,i.jsx(e.span,{className:"line"}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Domain Configuration (optional - leave empty for IP-only access)"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TF_VAR_domain_name"}),i.jsx(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'""'}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:'  # e.g., "constellation.example.com"'})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TF_VAR_domain_email"}),i.jsx(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'""'}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:' # e.g., "admin@example.com"'})]})]})})}),`
`,i.jsx(e.p,{children:"Deploy the infrastructure:"}),`
`,i.jsx(i.Fragment,{children:i.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:i.jsxs(e.code,{children:[i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Deploy everything"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" deploy"})]}),`
`,i.jsx(e.span,{className:"line"}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Check deployment status"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" status"})]}),`
`,i.jsx(e.span,{className:"line"}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Full health check"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" health"})]}),`
`,i.jsx(e.span,{className:"line"}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# View application logs"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" logs"})]})]})})}),`
`,i.jsx(e.h2,{id:"access-your-deployment",children:"Access Your Deployment"}),`
`,i.jsx(e.p,{children:"After successful deployment, access your Constellation Overwatch instance:"}),`
`,i.jsx(e.h3,{id:"ip-only-access-no-domain-configured",children:"IP-Only Access (no domain configured)"}),`
`,i.jsx(i.Fragment,{children:i.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:i.jsxs(e.code,{children:[i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Get your server IP"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" status"})]}),`
`,i.jsx(e.span,{className:"line"}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Access via browser"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"http://YOUR_SERVER_IP"})})]})})}),`
`,i.jsx(e.h3,{id:"domain-access-if-configured",children:"Domain Access (if configured)"}),`
`,i.jsx(i.Fragment,{children:i.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:i.jsxs(e.code,{children:[i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"http://your-domain.com"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"    # HTTP access"})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"https://your-domain.com"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"   # HTTPS (after SSL certificates)"})]})]})})}),`
`,i.jsx(e.h3,{id:"direct-port-access",children:"Direct Port Access"}),`
`,i.jsxs(e.table,{children:[i.jsx(e.thead,{children:i.jsxs(e.tr,{children:[i.jsx(e.th,{children:"Service"}),i.jsx(e.th,{children:"URL"})]})}),i.jsxs(e.tbody,{children:[i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.strong,{children:"Web UI"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"http://YOUR_SERVER_IP:8080"})})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.strong,{children:"NATS Client"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"nats://YOUR_SERVER_IP:4222"})})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.strong,{children:"NATS Monitoring"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"http://YOUR_SERVER_IP:8222"})})]})]})]}),`
`,i.jsx(e.h3,{id:"ssl-certificate-setup-optional",children:"SSL Certificate Setup (Optional)"}),`
`,i.jsx(e.p,{children:"If you configured a domain name, SSL certificates will be automatically requested:"}),`
`,i.jsx(i.Fragment,{children:i.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:i.jsxs(e.code,{children:[i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Check certificate status"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" logs"}),i.jsx(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" grep"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" certbot"})]}),`
`,i.jsx(e.span,{className:"line"}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# For production certificates (remove staging):"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Edit ansible/roles/constellation/templates/docker-compose.yml.j2"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Remove the '--staging' flag from certbot command"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Then run: task configure"})})]})})}),`
`,i.jsx(e.h2,{id:"available-commands",children:"Available Commands"}),`
`,i.jsxs(e.p,{children:["The ",i.jsx(e.code,{children:"Taskfile.yml"})," provides a set of convenient commands:"]}),`
`,i.jsx(i.Fragment,{children:i.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:i.jsxs(e.code,{children:[i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Setup and Configuration"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" setup-config"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  # Copy configuration files from examples"})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" init"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"          # Initialize Terraform and Ansible"})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" validate"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"      # Validate configurations"})]}),`
`,i.jsx(e.span,{className:"line"}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Deployment and Management"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" plan"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"          # Preview infrastructure changes"})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" deploy"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"        # Deploy complete stack"})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" configure"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"     # Run Ansible configuration only"})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" update"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"        # Update application only"})]}),`
`,i.jsx(e.span,{className:"line"}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Monitoring and Debugging"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" status"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"        # Quick deployment status"})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" health"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"        # Comprehensive health check"})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" logs"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"          # View application logs"})]}),`
`,i.jsx(e.span,{className:"line"}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Maintenance"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" backup"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"        # Create system backup"})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" destroy"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"       # Destroy all infrastructure"})]})]})})}),`
`,i.jsx(e.h2,{id:"deployment-modes",children:"Deployment Modes"}),`
`,i.jsx(e.h3,{id:"http-only-mode-default",children:"HTTP-Only Mode (Default)"}),`
`,i.jsx(i.Fragment,{children:i.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:i.jsxs(e.code,{children:[i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Leave domain fields empty for IP-only access"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TF_VAR_domain_name"}),i.jsx(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'""'})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TF_VAR_domain_email"}),i.jsx(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'""'})]})]})})}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsx(e.li,{children:"Access via server IP on port 80 (HTTP)"}),`
`,i.jsx(e.li,{children:"No SSL certificates required"}),`
`,i.jsx(e.li,{children:"Ideal for development and internal networks"}),`
`]}),`
`,i.jsx(e.h3,{id:"https-mode-with-domain",children:"HTTPS Mode with Domain"}),`
`,i.jsx(i.Fragment,{children:i.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:i.jsxs(e.code,{children:[i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Configure domain for SSL certificates"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TF_VAR_domain_name"}),i.jsx(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"constellation.yourdomain.com"'})]}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"TF_VAR_domain_email"}),i.jsx(e.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"admin@yourdomain.com"'})]})]})})}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsx(e.li,{children:"Automatic SSL certificates via Let's Encrypt"}),`
`,i.jsx(e.li,{children:"HTTP redirects to HTTPS"}),`
`,i.jsx(e.li,{children:"Production-ready configuration"}),`
`]}),`
`,i.jsx(e.h2,{id:"application-configuration",children:"Application Configuration"}),`
`,i.jsx(e.p,{children:"The deployment automatically configures the Constellation Overwatch application with secure defaults:"}),`
`,i.jsxs(e.table,{children:[i.jsx(e.thead,{children:i.jsxs(e.tr,{children:[i.jsx(e.th,{children:"Variable"}),i.jsx(e.th,{children:"Value"}),i.jsx(e.th,{children:"Description"})]})}),i.jsxs(e.tbody,{children:[i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"API_BEARER_TOKEN"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"reindustrialize-dev-token"})}),i.jsx(e.td,{children:"API Security"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"HOST"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"0.0.0.0"})}),i.jsx(e.td,{children:"All interfaces (accessible externally)"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"PORT"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"8080"})}),i.jsx(e.td,{children:"Web UI and API port"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"DB_PATH"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"./data/constellation.db"})}),i.jsx(e.td,{children:"SQLite database location"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"NATS_HOST"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"0.0.0.0"})}),i.jsx(e.td,{children:"All interfaces (accessible externally)"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"NATS_PORT"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"4222"})}),i.jsx(e.td,{children:"NATS client port"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"NATS_DATA_DIR"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"./data/overwatch"})}),i.jsx(e.td,{children:"NATS data storage"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"NATS_ENABLE_AUTH"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"true"})}),i.jsx(e.td,{children:"Authentication enabled"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"NATS_AUTH_TOKEN"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"reindustrialize-america"})}),i.jsx(e.td,{children:"NATS token"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"NATS_JETSTREAM"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"true"})}),i.jsx(e.td,{children:"Enable JetStream"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"WEB_UI_PASSWORD"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"reindustrialize"})}),i.jsx(e.td,{children:"Web UI password"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"ALLOWED_ORIGINS"})}),i.jsx(e.td,{children:i.jsx(e.code,{children:"*"})}),i.jsx(e.td,{children:"CORS policy"})]})]})]}),`
`,i.jsx(e.h3,{id:"advanced-customization",children:"Advanced Customization"}),`
`,i.jsx(e.p,{children:"To modify application settings, edit the template files:"}),`
`,i.jsxs(e.table,{children:[i.jsx(e.thead,{children:i.jsxs(e.tr,{children:[i.jsx(e.th,{children:"File"}),i.jsx(e.th,{children:"Purpose"})]})}),i.jsxs(e.tbody,{children:[i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"ansible/roles/constellation/templates/constellation.env.j2"})}),i.jsx(e.td,{children:"Environment Variables"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"ansible/roles/constellation/templates/docker-compose.yml.j2"})}),i.jsx(e.td,{children:"Docker Configuration"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"ansible/roles/constellation/templates/nginx.conf.j2"})}),i.jsx(e.td,{children:"Nginx Proxy"})]}),i.jsxs(e.tr,{children:[i.jsx(e.td,{children:i.jsx(e.code,{children:"ansible/roles/constellation/templates/constellation-overwatch.service.j2"})}),i.jsx(e.td,{children:"Systemd Service"})]})]})]}),`
`,i.jsx(e.p,{children:"After modifications, redeploy with:"}),`
`,i.jsx(i.Fragment,{children:i.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:i.jsxs(e.code,{children:[i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" configure"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"  # Apply configuration changes only"})]}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# or"})}),`
`,i.jsxs(e.span,{className:"line",children:[i.jsx(e.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"task"}),i.jsx(e.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" deploy"}),i.jsx(e.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"     # Full deployment"})]})]})})}),`
`,i.jsx(e.h2,{id:"project-structure",children:"Project Structure"}),`
`,i.jsx(i.Fragment,{children:i.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:i.jsxs(e.code,{children:[i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"overwatch-iac-toolbelt/"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"├── ansible/                    # Ansible playbooks and roles"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   ├── inventories/           # Inventory files (auto-generated by Terraform)"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   ├── playbooks/            # Main deployment playbooks"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   │   ├── site.yml         # Complete system configuration"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   │   └── deploy.yml       # Application updates only"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   ├── roles/               # Reusable configuration roles"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   │   ├── security/        # UFW firewall, Fail2Ban, SSH hardening"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   │   ├── docker/          # Docker Engine installation"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   │   └── constellation/   # Application deployment and configuration"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   ├── requirements.yml     # External role dependencies"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   └── ansible.cfg          # Ansible configuration"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"├── config/                  # Configuration examples"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   └── ansible.cfg.example  # Ansible configuration template"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"├── terraform/               # Infrastructure as Code"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   ├── main.tf             # Linode resources and local files"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   ├── variables.tf        # Input variable definitions"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   ├── outputs.tf          # Output definitions"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"│   └── inventory.tpl       # Ansible inventory template"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"├── keys/                    # SSH keys (git-ignored)"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"├── .env.example            # Environment variables template"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"├── Taskfile.yml            # Automation commands"})}),`
`,i.jsx(e.span,{className:"line",children:i.jsx(e.span,{children:"└── README.md               # Documentation"})})]})})}),`
`,i.jsx(e.h2,{id:"troubleshooting",children:"Troubleshooting"}),`
`,i.jsx(e.h3,{id:"nginx-container-restarting",children:"nginx Container Restarting"}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Cause"}),": SSL certificates missing but domain configured"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Solution"}),": Wait for certbot to complete, or temporarily disable domain"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Check"}),": ",i.jsx(e.code,{children:"task logs | grep nginx"})]}),`
`]}),`
`,i.jsx(e.h3,{id:"ssl-certificate-failures",children:"SSL Certificate Failures"}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Rate Limits"}),": Let's Encrypt limits 5 failures per hour per domain"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Solution"}),": Wait for rate limit reset or use ",i.jsx(e.code,{children:"--staging"})," flag for testing"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Check"}),": ",i.jsx(e.code,{children:"task logs | grep certbot"})]}),`
`]}),`
`,i.jsx(e.h3,{id:"application-not-accessible",children:"Application Not Accessible"}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Ports"}),": Ensure ports 80, 443, 4222, 8080, 8222 are open"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Health Check"}),": Run ",i.jsx(e.code,{children:"task health"})," to verify all services"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Firewall"}),": Check UFW status with ",i.jsx(e.code,{children:"ufw status"})]}),`
`]}),`
`,i.jsx(e.h3,{id:"websocket-connection-issues",children:"WebSocket Connection Issues"}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"nginx"}),": Verify WebSocket headers in nginx configuration"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"CORS"}),": Check ",i.jsx(e.code,{children:"ALLOWED_ORIGINS"})," environment variable"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Ports"}),": Ensure application binds to ",i.jsx(e.code,{children:"0.0.0.0:8080"})," not ",i.jsx(e.code,{children:"127.0.0.1:8080"})]}),`
`]}),`
`,i.jsx(e.h3,{id:"container-health-checks-failing",children:"Container Health Checks Failing"}),`
`,i.jsxs(e.ul,{children:[`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"App Startup"}),": Check ",i.jsx(e.code,{children:"task logs"})," for application startup errors"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"Database"}),": Verify SQLite database file permissions"]}),`
`,i.jsxs(e.li,{children:[i.jsx(e.strong,{children:"NATS"}),": Ensure NATS authentication tokens match"]}),`
`]}),`
`,i.jsx(e.hr,{}),`
`,i.jsx(s,{type:"info",children:i.jsxs(e.p,{children:["For full documentation and source code, see the ",i.jsx(e.a,{href:"https://github.com/Constellation-Overwatch/toolbelt",children:"GitHub repository"}),"."]})})]})}function d(n={}){const{wrapper:e}=n.components||{};return e?i.jsx(e,{...n,children:i.jsx(a,{...n})}):a(n)}function l(n,e){throw new Error("Expected component `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}export{d as default,c as frontmatter,h as structuredData,o as toc};
