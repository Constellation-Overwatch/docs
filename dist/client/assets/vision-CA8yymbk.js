import{j as e}from"./main-BKUcFAd0.js";let h={title:"Vision AI",description:"Real-time video edge inference system with modular ML detection for Constellation Overwatch",icon:"Eye"},d={contents:[{heading:"vision2constellation",content:"Real-time video edge inference system with modular ML detection for the Constellation Overwatch platform."},{heading:"vision2constellation",content:"type: warn"},{heading:"vision2constellation",content:"This software is under active development and only tested on macOS. While functional, it may contain bugs and undergo breaking changes. Use caution with production deployments."},{heading:"about",content:"vision2constellation is a specialized edge service designed to perform real-time object detection from video streams (cameras, RTSP, HTTP) and bridge detection events to the Constellation Overwatch NATS JetStream mesh. It supports multiple ML models including YOLOE C4ISR threat detection, RT-DETR, SAM2 segmentation, and Moondream vision-language models."},{heading:"features",content:"Multi-Model Detection - Supports YOLOE C4ISR (default), RT-DETR, YOLOE, SAM2, and Moondream models"},{heading:"features",content:"NATS JetStream Bridge - Seamlessly bridges detection events to NATS subjects"},{heading:"features",content:"Video Frame Streaming - Stream JPEG-encoded video frames to NATS JetStream for live viewing and recording"},{heading:"features",content:"Device Fingerprinting - Automatically identifies cameras and generates unique device IDs"},{heading:"features",content:"KV State Sync - Synchronizes consolidated EntityState to NATS Key-Value stores"},{heading:"features",content:"Smart Publishing - Reduces event noise by 90%+ via movement/confidence thresholds"},{heading:"features",content:"C4ISR Threat Intelligence - 4-level threat classification with aggregated threat summaries"},{heading:"features",content:"Token-Based Authentication - Secure NATS connections with token authentication"},{heading:"available-detection-models",content:"Model"},{heading:"available-detection-models",content:"Flag"},{heading:"available-detection-models",content:"FPS"},{heading:"available-detection-models",content:"Classes"},{heading:"available-detection-models",content:"Threat Detection"},{heading:"available-detection-models",content:"Best For"},{heading:"available-detection-models",content:"YOLOE C4ISR"},{heading:"available-detection-models",content:"--model yoloe_c4isr (default)"},{heading:"available-detection-models",content:"15-30"},{heading:"available-detection-models",content:"Custom (text prompts)"},{heading:"available-detection-models",content:"4-level"},{heading:"available-detection-models",content:"Military, Security"},{heading:"available-detection-models",content:"RT-DETR"},{heading:"available-detection-models",content:"--model rtdetr"},{heading:"available-detection-models",content:"30-60"},{heading:"available-detection-models",content:"80 COCO"},{heading:"available-detection-models",content:"-"},{heading:"available-detection-models",content:"Production, Real-time"},{heading:"available-detection-models",content:"YOLOE"},{heading:"available-detection-models",content:"--model yoloe"},{heading:"available-detection-models",content:"15-30"},{heading:"available-detection-models",content:"Custom (text prompts)"},{heading:"available-detection-models",content:"-"},{heading:"available-detection-models",content:"Custom detection, Tracking"},{heading:"available-detection-models",content:"SAM2"},{heading:"available-detection-models",content:"--model sam2"},{heading:"available-detection-models",content:"10-20"},{heading:"available-detection-models",content:"Any (auto-segment)"},{heading:"available-detection-models",content:"-"},{heading:"available-detection-models",content:"Segmentation, Masks"},{heading:"available-detection-models",content:"Moondream"},{heading:"available-detection-models",content:"--model moondream"},{heading:"available-detection-models",content:"2-5"},{heading:"available-detection-models",content:"Any (natural language)"},{heading:"available-detection-models",content:"-"},{heading:"available-detection-models",content:"Research, Flexibility"},{heading:"prerequisites",content:"Python 3.14 or higher"},{heading:"prerequisites",content:"uv - Fast Python package installer and resolver"},{heading:"prerequisites",content:"Constellation Overwatch with NATS JetStream enabled"},{heading:"quick-start",content:"Clone the repository and start detection:"},{heading:"installation-uv",content:"Install uv for fast dependency management:"},{heading:"configuration",content:"Create a .env file in the project root (copy from .env.example):"},{heading:"key-settings",content:"Variable"},{heading:"key-settings",content:"Default"},{heading:"key-settings",content:"Description"},{heading:"key-settings",content:"CONSTELLATION_ORG_ID"},{heading:"key-settings",content:"(required)"},{heading:"key-settings",content:"Organization ID from Overwatch"},{heading:"key-settings",content:"CONSTELLATION_ENTITY_ID"},{heading:"key-settings",content:"(required)"},{heading:"key-settings",content:"Entity ID from Overwatch"},{heading:"key-settings",content:"NATS_AUTH_TOKEN"},{heading:"key-settings",content:"(optional)"},{heading:"key-settings",content:"Token for NATS authentication"},{heading:"key-settings",content:"SIGINT_MOVEMENT_THRESHOLD"},{heading:"key-settings",content:"0.05"},{heading:"key-settings",content:"Movement threshold (5%) to trigger publish"},{heading:"key-settings",content:"SIGINT_CONFIDENCE_THRESHOLD"},{heading:"key-settings",content:"0.1"},{heading:"key-settings",content:"Confidence change (10%) to trigger publish"},{heading:"key-settings",content:"ENABLE_FRAME_STREAMING"},{heading:"key-settings",content:"false"},{heading:"key-settings",content:"Enable streaming frames to NATS"},{heading:"key-settings",content:"FRAME_TARGET_FPS"},{heading:"key-settings",content:"15"},{heading:"key-settings",content:"Target FPS for frame streaming"},{heading:"key-settings",content:"FRAME_JPEG_QUALITY"},{heading:"key-settings",content:"75"},{heading:"key-settings",content:"JPEG encoding quality (1-100)"},{heading:"key-settings",content:"FRAME_MAX_DIMENSION"},{heading:"key-settings",content:"1280"},{heading:"key-settings",content:"Max frame dimension in pixels"},{heading:"key-settings",content:"FRAME_INCLUDE_DETECTIONS"},{heading:"key-settings",content:"true"},{heading:"key-settings",content:"Include detection overlays in frames"},{heading:"jetstream-streams",content:"Stream"},{heading:"jetstream-streams",content:"Subjects"},{heading:"jetstream-streams",content:"Storage"},{heading:"jetstream-streams",content:"Purpose"},{heading:"jetstream-streams",content:"CONSTELLATION_EVENTS"},{heading:"jetstream-streams",content:"constellation.events.>"},{heading:"jetstream-streams",content:"File"},{heading:"jetstream-streams",content:"All system events"},{heading:"jetstream-streams",content:"CONSTELLATION_VIDEO_FRAMES"},{heading:"jetstream-streams",content:"constellation.video.>"},{heading:"jetstream-streams",content:"Memory"},{heading:"jetstream-streams",content:"Video frame streaming"},{heading:"video-stream-configuration",content:"The video stream is optimized for live streaming with the following defaults:"},{heading:"video-stream-configuration",content:"Setting"},{heading:"video-stream-configuration",content:"Value"},{heading:"video-stream-configuration",content:"Description"},{heading:"video-stream-configuration",content:"Storage"},{heading:"video-stream-configuration",content:"Memory"},{heading:"video-stream-configuration",content:"Low latency, not persisted"},{heading:"video-stream-configuration",content:"Max Age"},{heading:"video-stream-configuration",content:"30 seconds"},{heading:"video-stream-configuration",content:"Rolling buffer for live viewing"},{heading:"video-stream-configuration",content:"Max Bytes"},{heading:"video-stream-configuration",content:"512MB"},{heading:"video-stream-configuration",content:"~500 frames at 1MB each"},{heading:"video-stream-configuration",content:"Max Msg Size"},{heading:"video-stream-configuration",content:"2MB"},{heading:"video-stream-configuration",content:"Generous for 1080p JPEG"},{heading:"video-stream-configuration",content:"Discard"},{heading:"video-stream-configuration",content:"Old"},{heading:"video-stream-configuration",content:"Drop oldest frames when full"},{heading:"kv-store",content:"Key Pattern"},{heading:"kv-store",content:"Purpose"},{heading:"kv-store",content:"{entity_id}"},{heading:"kv-store",content:"Consolidated EntityState (detections, analytics, c4isr)"},{heading:"video-frame-streaming",content:"Enable real-time video streaming to your backend by setting ENABLE_FRAME_STREAMING=true in your .env file."},{heading:"frame-message-format",content:"Video frames are published as raw JPEG bytes (no JSON wrapping) with metadata in headers:"},{heading:"frame-message-format",content:"Header"},{heading:"frame-message-format",content:"Description"},{heading:"frame-message-format",content:"Content-Type"},{heading:"frame-message-format",content:"image/jpeg"},{heading:"frame-message-format",content:"Frame-Number"},{heading:"frame-message-format",content:"Sequential frame number"},{heading:"frame-message-format",content:"Timestamp"},{heading:"frame-message-format",content:"ISO 8601 UTC timestamp"},{heading:"frame-message-format",content:"Width / Height"},{heading:"frame-message-format",content:"Encoded frame dimensions"},{heading:"frame-message-format",content:"Detection-Count"},{heading:"frame-message-format",content:"Number of detections in frame"},{heading:"frame-message-format",content:"Device-ID"},{heading:"frame-message-format",content:"Device fingerprint"},{heading:"frame-message-format",content:"Entity-ID"},{heading:"frame-message-format",content:"Entity identifier"},{heading:"bandwidth-estimates",content:"Resolution"},{heading:"bandwidth-estimates",content:"Quality"},{heading:"bandwidth-estimates",content:"Size/Frame"},{heading:"bandwidth-estimates",content:"@ 15 FPS"},{heading:"bandwidth-estimates",content:"1280x720"},{heading:"bandwidth-estimates",content:"75%"},{heading:"bandwidth-estimates",content:"~80-150KB"},{heading:"bandwidth-estimates",content:"~1.2-2.2 MB/s"},{heading:"bandwidth-estimates",content:"1920x1080"},{heading:"bandwidth-estimates",content:"75%"},{heading:"bandwidth-estimates",content:"~150-300KB"},{heading:"bandwidth-estimates",content:"~2.2-4.5 MB/s"},{heading:"bandwidth-estimates",content:"1280x720"},{heading:"bandwidth-estimates",content:"50%"},{heading:"bandwidth-estimates",content:"~40-80KB"},{heading:"bandwidth-estimates",content:"~0.6-1.2 MB/s"},{heading:"detection-payload-format",content:"All models output a standardized payload format:"},{heading:"adding-new-detection-models",content:"Create detector class inheriting from BaseDetector in src/services/detection/"},{heading:"adding-new-detection-models",content:"Implement load_model() and process_frame() methods"},{heading:"adding-new-detection-models",content:"Use self.tracking_id_service.get_or_create_cuid() for track IDs"},{heading:"adding-new-detection-models",content:"Use self.tracking_id_service.format_detection_payload() for output format"},{heading:"adding-new-detection-models",content:"Add DetectionMode enum value in src/config/models.py"},{heading:"adding-new-detection-models",content:"Register in DetectorFactory.create_detector() in src/services/detection/factory.py"},{heading:"adding-new-detection-models",content:"type: info"},{heading:"adding-new-detection-models",content:"For full documentation and source code, see the GitHub repository."}],headings:[{id:"vision2constellation",content:"vision2constellation"},{id:"about",content:"About"},{id:"features",content:"Features"},{id:"available-detection-models",content:"Available Detection Models"},{id:"prerequisites",content:"Prerequisites"},{id:"quick-start",content:"Quick Start"},{id:"installation-uv",content:"Installation (uv)"},{id:"video-source-options",content:"Video Source Options"},{id:"model-specific-usage",content:"Model-Specific Usage"},{id:"configuration",content:"Configuration"},{id:"key-settings",content:"Key Settings"},{id:"nats-integration",content:"NATS Integration"},{id:"subject-hierarchy",content:"Subject Hierarchy"},{id:"jetstream-streams",content:"JetStream Streams"},{id:"video-stream-configuration",content:"Video Stream Configuration"},{id:"kv-store",content:"KV Store"},{id:"video-frame-streaming",content:"Video Frame Streaming"},{id:"frame-message-format",content:"Frame Message Format"},{id:"consuming-frames-python-example",content:"Consuming Frames (Python Example)"},{id:"bandwidth-estimates",content:"Bandwidth Estimates"},{id:"detection-payload-format",content:"Detection Payload Format"},{id:"project-structure",content:"Project Structure"},{id:"adding-new-detection-models",content:"Adding New Detection Models"}]};const r=[{depth:1,url:"#vision2constellation",title:e.jsx(e.Fragment,{children:"vision2constellation"})},{depth:2,url:"#about",title:e.jsx(e.Fragment,{children:"About"})},{depth:2,url:"#features",title:e.jsx(e.Fragment,{children:"Features"})},{depth:2,url:"#available-detection-models",title:e.jsx(e.Fragment,{children:"Available Detection Models"})},{depth:2,url:"#prerequisites",title:e.jsx(e.Fragment,{children:"Prerequisites"})},{depth:2,url:"#quick-start",title:e.jsx(e.Fragment,{children:"Quick Start"})},{depth:2,url:"#installation-uv",title:e.jsx(e.Fragment,{children:"Installation (uv)"})},{depth:2,url:"#video-source-options",title:e.jsx(e.Fragment,{children:"Video Source Options"})},{depth:2,url:"#model-specific-usage",title:e.jsx(e.Fragment,{children:"Model-Specific Usage"})},{depth:2,url:"#configuration",title:e.jsx(e.Fragment,{children:"Configuration"})},{depth:3,url:"#key-settings",title:e.jsx(e.Fragment,{children:"Key Settings"})},{depth:2,url:"#nats-integration",title:e.jsx(e.Fragment,{children:"NATS Integration"})},{depth:3,url:"#subject-hierarchy",title:e.jsx(e.Fragment,{children:"Subject Hierarchy"})},{depth:3,url:"#jetstream-streams",title:e.jsx(e.Fragment,{children:"JetStream Streams"})},{depth:3,url:"#video-stream-configuration",title:e.jsx(e.Fragment,{children:"Video Stream Configuration"})},{depth:3,url:"#kv-store",title:e.jsx(e.Fragment,{children:"KV Store"})},{depth:2,url:"#video-frame-streaming",title:e.jsx(e.Fragment,{children:"Video Frame Streaming"})},{depth:3,url:"#frame-message-format",title:e.jsx(e.Fragment,{children:"Frame Message Format"})},{depth:3,url:"#consuming-frames-python-example",title:e.jsx(e.Fragment,{children:"Consuming Frames (Python Example)"})},{depth:3,url:"#bandwidth-estimates",title:e.jsx(e.Fragment,{children:"Bandwidth Estimates"})},{depth:2,url:"#detection-payload-format",title:e.jsx(e.Fragment,{children:"Detection Payload Format"})},{depth:2,url:"#project-structure",title:e.jsx(e.Fragment,{children:"Project Structure"})},{depth:2,url:"#adding-new-detection-models",title:e.jsx(e.Fragment,{children:"Adding New Detection Models"})}];function t(s){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...s.components},{Callout:n}=i;return n||a("Callout"),e.jsxs(e.Fragment,{children:[e.jsx(i.h1,{id:"vision2constellation",children:"vision2constellation"}),`
`,e.jsx(i.p,{children:"Real-time video edge inference system with modular ML detection for the Constellation Overwatch platform."}),`
`,e.jsx(n,{type:"warn",children:e.jsx(i.p,{children:"This software is under active development and only tested on macOS. While functional, it may contain bugs and undergo breaking changes. Use caution with production deployments."})}),`
`,e.jsx(i.h2,{id:"about",children:"About"}),`
`,e.jsxs(i.p,{children:[e.jsx(i.a,{href:"https://github.com/Constellation-Overwatch/vision2constellation",children:"vision2constellation"})," is a specialized edge service designed to perform real-time object detection from video streams (cameras, RTSP, HTTP) and bridge detection events to the Constellation Overwatch NATS JetStream mesh. It supports multiple ML models including YOLOE C4ISR threat detection, RT-DETR, SAM2 segmentation, and Moondream vision-language models."]}),`
`,e.jsx(i.h2,{id:"features",children:"Features"}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Multi-Model Detection"})," - Supports YOLOE C4ISR (default), RT-DETR, YOLOE, SAM2, and Moondream models"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"NATS JetStream Bridge"})," - Seamlessly bridges detection events to NATS subjects"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Video Frame Streaming"})," - Stream JPEG-encoded video frames to NATS JetStream for live viewing and recording"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Device Fingerprinting"})," - Automatically identifies cameras and generates unique device IDs"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"KV State Sync"})," - Synchronizes consolidated EntityState to NATS Key-Value stores"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Smart Publishing"})," - Reduces event noise by 90%+ via movement/confidence thresholds"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"C4ISR Threat Intelligence"})," - 4-level threat classification with aggregated threat summaries"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.strong,{children:"Token-Based Authentication"})," - Secure NATS connections with token authentication"]}),`
`]}),`
`,e.jsx(i.h2,{id:"available-detection-models",children:"Available Detection Models"}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Model"}),e.jsx(i.th,{children:"Flag"}),e.jsx(i.th,{children:"FPS"}),e.jsx(i.th,{children:"Classes"}),e.jsx(i.th,{children:"Threat Detection"}),e.jsx(i.th,{children:"Best For"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.strong,{children:"YOLOE C4ISR"})}),e.jsxs(i.td,{children:[e.jsx(i.code,{children:"--model yoloe_c4isr"})," ",e.jsx(i.strong,{children:"(default)"})]}),e.jsx(i.td,{children:"15-30"}),e.jsx(i.td,{children:"Custom (text prompts)"}),e.jsx(i.td,{children:"4-level"}),e.jsx(i.td,{children:"Military, Security"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.strong,{children:"RT-DETR"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"--model rtdetr"})}),e.jsx(i.td,{children:"30-60"}),e.jsx(i.td,{children:"80 COCO"}),e.jsx(i.td,{children:"-"}),e.jsx(i.td,{children:"Production, Real-time"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.strong,{children:"YOLOE"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"--model yoloe"})}),e.jsx(i.td,{children:"15-30"}),e.jsx(i.td,{children:"Custom (text prompts)"}),e.jsx(i.td,{children:"-"}),e.jsx(i.td,{children:"Custom detection, Tracking"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.strong,{children:"SAM2"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"--model sam2"})}),e.jsx(i.td,{children:"10-20"}),e.jsx(i.td,{children:"Any (auto-segment)"}),e.jsx(i.td,{children:"-"}),e.jsx(i.td,{children:"Segmentation, Masks"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.strong,{children:"Moondream"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"--model moondream"})}),e.jsx(i.td,{children:"2-5"}),e.jsx(i.td,{children:"Any (natural language)"}),e.jsx(i.td,{children:"-"}),e.jsx(i.td,{children:"Research, Flexibility"})]})]})]}),`
`,e.jsx(i.h2,{id:"prerequisites",children:"Prerequisites"}),`
`,e.jsxs(i.ul,{children:[`
`,e.jsx(i.li,{children:"Python 3.14 or higher"}),`
`,e.jsxs(i.li,{children:[e.jsx(i.a,{href:"https://astral.sh",children:"uv"})," - Fast Python package installer and resolver"]}),`
`,e.jsxs(i.li,{children:[e.jsx(i.a,{href:"https://github.com/Constellation-Overwatch/constellation-overwatch",children:"Constellation Overwatch"})," with NATS JetStream enabled"]}),`
`]}),`
`,e.jsx(i.h2,{id:"quick-start",children:"Quick Start"}),`
`,e.jsx(i.p,{children:"Clone the repository and start detection:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Clone the repository"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"git"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" clone"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" https://github.com/Constellation-Overwatch/vision2constellation.git"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"cd"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" vision2constellation"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Install dependencies"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" sync"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Copy and configure environment"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"cp"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" .env.example"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" .env"})]}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Edit .env with your CONSTELLATION_ORG_ID and CONSTELLATION_ENTITY_ID"})}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Run with default model (YOLOE C4ISR)"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Run with specific model"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --model"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" rtdetr"})]})]})})}),`
`,e.jsx(i.h2,{id:"installation-uv",children:"Installation (uv)"}),`
`,e.jsx(i.p,{children:"Install uv for fast dependency management:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# macOS / Linux"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"curl"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -LsSf"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" https://astral.sh/uv/install.sh"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" |"}),e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" sh"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Windows (PowerShell)"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"powershell"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -c"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "irm https://astral.sh/uv/install.ps1 | iex"'})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Homebrew"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"brew"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" install"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" uv"})]})]})})}),`
`,e.jsx(i.h2,{id:"video-source-options",children:"Video Source Options"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Auto-detect camera (default)"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Specific camera by index"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --camera"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 0"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Skip built-in cameras (use external)"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --skip-native"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# RTSP stream"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --rtsp"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" rtsp://192.168.50.2:8554/live/stream"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# HTTP stream"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --http"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" http://192.168.1.100:8080/stream.mjpg"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Device path (Linux)"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --device"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" /dev/video4"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# List available devices"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --list-devices"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Camera diagnostics (macOS)"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" utils/camera_diagnostics.py"})]})]})})}),`
`,e.jsx(i.h2,{id:"model-specific-usage",children:"Model-Specific Usage"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# YOLOE C4ISR (default) - Threat detection"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --conf"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 0.15"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --min-frames"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 1"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --custom-threats"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "drone"'}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "robot"'})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# RT-DETR - High-speed production"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --model"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" rtdetr"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --conf"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 0.4"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# YOLOE - Custom object detection"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --model"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" yoloe"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --min-frames"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 3"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --tracker"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" botsort.yaml"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# SAM2 - Segmentation"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --model"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" sam2"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --conf"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 0.3"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --imgsz"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 1024"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Moondream - Vision-language"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --model"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" moondream"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --prompt"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "vehicles and people"'})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# List all available models"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"uv"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" run"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" overwatch.py"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" --list-models"})]})]})})}),`
`,e.jsx(i.h2,{id:"configuration",children:"Configuration"}),`
`,e.jsxs(i.p,{children:["Create a ",e.jsx(i.code,{children:".env"})," file in the project root (copy from ",e.jsx(i.code,{children:".env.example"}),"):"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:e.jsx(i.code,{children:e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"cp"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" .env.example"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" .env"})]})})})}),`
`,e.jsx(i.h3,{id:"key-settings",children:"Key Settings"}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Variable"}),e.jsx(i.th,{children:"Default"}),e.jsx(i.th,{children:"Description"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"CONSTELLATION_ORG_ID"})}),e.jsx(i.td,{children:"(required)"}),e.jsx(i.td,{children:"Organization ID from Overwatch"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"CONSTELLATION_ENTITY_ID"})}),e.jsx(i.td,{children:"(required)"}),e.jsx(i.td,{children:"Entity ID from Overwatch"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"NATS_AUTH_TOKEN"})}),e.jsx(i.td,{children:"(optional)"}),e.jsx(i.td,{children:"Token for NATS authentication"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"SIGINT_MOVEMENT_THRESHOLD"})}),e.jsx(i.td,{children:"0.05"}),e.jsx(i.td,{children:"Movement threshold (5%) to trigger publish"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"SIGINT_CONFIDENCE_THRESHOLD"})}),e.jsx(i.td,{children:"0.1"}),e.jsx(i.td,{children:"Confidence change (10%) to trigger publish"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"ENABLE_FRAME_STREAMING"})}),e.jsx(i.td,{children:"false"}),e.jsx(i.td,{children:"Enable streaming frames to NATS"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"FRAME_TARGET_FPS"})}),e.jsx(i.td,{children:"15"}),e.jsx(i.td,{children:"Target FPS for frame streaming"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"FRAME_JPEG_QUALITY"})}),e.jsx(i.td,{children:"75"}),e.jsx(i.td,{children:"JPEG encoding quality (1-100)"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"FRAME_MAX_DIMENSION"})}),e.jsx(i.td,{children:"1280"}),e.jsx(i.td,{children:"Max frame dimension in pixels"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"FRAME_INCLUDE_DETECTIONS"})}),e.jsx(i.td,{children:"true"}),e.jsx(i.td,{children:"Include detection overlays in frames"})]})]})]}),`
`,e.jsx(i.h2,{id:"nats-integration",children:"NATS Integration"}),`
`,e.jsx(i.h3,{id:"subject-hierarchy",children:"Subject Hierarchy"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"constellation.events.isr.{organization_id}.{entity_id}"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"                    └── Detection events, bootsequence, shutdown"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"constellation.video.{entity_id}"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"                    └── Video frame stream (raw JPEG bytes)"})})]})})}),`
`,e.jsx(i.h3,{id:"jetstream-streams",children:"JetStream Streams"}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Stream"}),e.jsx(i.th,{children:"Subjects"}),e.jsx(i.th,{children:"Storage"}),e.jsx(i.th,{children:"Purpose"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"CONSTELLATION_EVENTS"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"constellation.events.>"})}),e.jsx(i.td,{children:"File"}),e.jsx(i.td,{children:"All system events"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"CONSTELLATION_VIDEO_FRAMES"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"constellation.video.>"})}),e.jsx(i.td,{children:"Memory"}),e.jsx(i.td,{children:"Video frame streaming"})]})]})]}),`
`,e.jsx(i.h3,{id:"video-stream-configuration",children:"Video Stream Configuration"}),`
`,e.jsx(i.p,{children:"The video stream is optimized for live streaming with the following defaults:"}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Setting"}),e.jsx(i.th,{children:"Value"}),e.jsx(i.th,{children:"Description"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"Storage"}),e.jsx(i.td,{children:"Memory"}),e.jsx(i.td,{children:"Low latency, not persisted"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"Max Age"}),e.jsx(i.td,{children:"30 seconds"}),e.jsx(i.td,{children:"Rolling buffer for live viewing"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"Max Bytes"}),e.jsx(i.td,{children:"512MB"}),e.jsx(i.td,{children:"~500 frames at 1MB each"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"Max Msg Size"}),e.jsx(i.td,{children:"2MB"}),e.jsx(i.td,{children:"Generous for 1080p JPEG"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"Discard"}),e.jsx(i.td,{children:"Old"}),e.jsx(i.td,{children:"Drop oldest frames when full"})]})]})]}),`
`,e.jsx(i.h3,{id:"kv-store",children:"KV Store"}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Key Pattern"}),e.jsx(i.th,{children:"Purpose"})]})}),e.jsx(i.tbody,{children:e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"{entity_id}"})}),e.jsx(i.td,{children:"Consolidated EntityState (detections, analytics, c4isr)"})]})})]}),`
`,e.jsx(i.h2,{id:"video-frame-streaming",children:"Video Frame Streaming"}),`
`,e.jsxs(i.p,{children:["Enable real-time video streaming to your backend by setting ",e.jsx(i.code,{children:"ENABLE_FRAME_STREAMING=true"})," in your ",e.jsx(i.code,{children:".env"})," file."]}),`
`,e.jsx(i.h3,{id:"frame-message-format",children:"Frame Message Format"}),`
`,e.jsxs(i.p,{children:["Video frames are published as ",e.jsx(i.strong,{children:"raw JPEG bytes"})," (no JSON wrapping) with metadata in headers:"]}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Header"}),e.jsx(i.th,{children:"Description"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"Content-Type"})}),e.jsx(i.td,{children:e.jsx(i.code,{children:"image/jpeg"})})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"Frame-Number"})}),e.jsx(i.td,{children:"Sequential frame number"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"Timestamp"})}),e.jsx(i.td,{children:"ISO 8601 UTC timestamp"})]}),e.jsxs(i.tr,{children:[e.jsxs(i.td,{children:[e.jsx(i.code,{children:"Width"})," / ",e.jsx(i.code,{children:"Height"})]}),e.jsx(i.td,{children:"Encoded frame dimensions"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"Detection-Count"})}),e.jsx(i.td,{children:"Number of detections in frame"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"Device-ID"})}),e.jsx(i.td,{children:"Device fingerprint"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:e.jsx(i.code,{children:"Entity-ID"})}),e.jsx(i.td,{children:"Entity identifier"})]})]})]}),`
`,e.jsx(i.h3,{id:"consuming-frames-python-example",children:"Consuming Frames (Python Example)"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" nats"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" nats.js.api "}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ConsumerConfig, DeliverPolicy, AckPolicy"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"async"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" def"}),e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" consume_video_frames"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"():"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    nc "}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" nats.connect("}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"nats://localhost:4222"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(i.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"token"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"your-token"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    js "}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" nc.jetstream()"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    entity_id "}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "your-entity-id"'})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"    # Subscribe to live frames (ephemeral consumer)"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    sub "}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" await"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" js.subscribe("})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"        f"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"constellation.video.'}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"{"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"entity_id"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"}"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"        stream"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"CONSTELLATION_VIDEO_FRAMES"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"        config"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"ConsumerConfig("})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"            deliver_policy"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"DeliverPolicy."}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"NEW"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},children:"            ack_policy"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"AckPolicy."}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"NONE"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        ),"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    )"})}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"    async"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" for"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" msg "}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"in"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" sub.messages:"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        frame_bytes "}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" msg.data  "}),e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"# Raw JPEG bytes (starts with FF D8 FF)"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        frame_num "}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" msg.headers.get("}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"Frame-Number"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"        detection_count "}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" msg.headers.get("}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"Detection-Count"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:")"})]}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},children:"        # Process frame - e.g., save to file, forward to WebSocket, etc."})})]})})}),`
`,e.jsx(i.h3,{id:"bandwidth-estimates",children:"Bandwidth Estimates"}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Resolution"}),e.jsx(i.th,{children:"Quality"}),e.jsx(i.th,{children:"Size/Frame"}),e.jsx(i.th,{children:"@ 15 FPS"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"1280x720"}),e.jsx(i.td,{children:"75%"}),e.jsx(i.td,{children:"~80-150KB"}),e.jsx(i.td,{children:"~1.2-2.2 MB/s"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"1920x1080"}),e.jsx(i.td,{children:"75%"}),e.jsx(i.td,{children:"~150-300KB"}),e.jsx(i.td,{children:"~2.2-4.5 MB/s"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"1280x720"}),e.jsx(i.td,{children:"50%"}),e.jsx(i.td,{children:"~40-80KB"}),e.jsx(i.td,{children:"~0.6-1.2 MB/s"})]})]})]}),`
`,e.jsx(i.h2,{id:"detection-payload-format",children:"Detection Payload Format"}),`
`,e.jsx(i.p,{children:"All models output a standardized payload format:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{"})}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'  "timestamp"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"2025-11-21T13:18:19.912559+00:00"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'  "event_type"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"detection"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'  "entity_id"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"1048bff5-5b97-4fa8-a0f1-061662b32163"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'  "device_id"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"b546cd5c6dc0b878"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'  "detection"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": {"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'    "track_id"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"clx7y3k2r0000qzrm8n7qh3k1"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'    "model_type"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"yoloe-c4isr-threat-detection"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'    "label"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"person"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'    "confidence"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"0.96"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'    "bbox"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": { "}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'"x_min"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"0.189"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'"y_min"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"0.179"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'"x_max"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"0.837"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'"y_max"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"0.997"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" },"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'    "metadata"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": { "}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'"native_id"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"1"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:", "}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:'"threat_level"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:": "}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"LOW_THREAT"'}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" }"})]}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  }"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"}"})})]})})}),`
`,e.jsx(i.h2,{id:"project-structure",children:"Project Structure"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"vision2constellation/"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"├── src/"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   ├── overwatch.py            # Main orchestrator entry point"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   ├── config/                 # Model configurations and threat definitions"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   ├── models.py           # DetectionMode enum and model configs"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   ├── threats.py          # C4ISR threat classification"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   └── defaults.py         # Default configuration values"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   ├── services/               # Core service layer"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   ├── detection/          # Model-specific detection implementations"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   │   ├── base.py         # BaseDetector abstract class"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   │   ├── factory.py      # DetectorFactory for model creation"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   │   ├── yoloe_c4isr.py  # C4ISR threat detection (default)"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   │   ├── rtdetr.py       # RT-DETR high-speed detection"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   │   ├── yoloe.py        # Open-vocabulary detection"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   │   ├── sam2.py         # Segmentation model"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   │   └── moondream.py    # Vision-language model"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   ├── tracking/           # Object tracking and state"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   │   ├── state.py        # TrackingState, C4ISRTrackingState"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   │   └── service.py      # TrackingService coordinator"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   ├── communication/      # NATS/JetStream messaging"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   │   ├── service.py      # OverwatchCommunication"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   │   └── publisher.py    # ConstellationPublisher"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │   └── video/              # Video capture and display"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   │       └── service.py      # VideoService"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│   └── utils/                  # Utilities"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│       ├── args.py             # CLI argument parsing"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│       ├── device.py           # Device fingerprinting"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│       ├── constellation.py    # Constellation ID management"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│       ├── frame_encoder.py    # Video frame encoding for streaming"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"│       └── signals.py          # Signal handlers"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"├── docs/                       # Documentation"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"├── models/                     # Downloaded ML models (auto-generated)"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"├── utils/                      # Diagnostic utilities"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"├── pyproject.toml              # Python project configuration"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"└── .env.example                # Example configuration"})})]})})}),`
`,e.jsx(i.h2,{id:"adding-new-detection-models",children:"Adding New Detection Models"}),`
`,e.jsxs(i.ol,{children:[`
`,e.jsxs(i.li,{children:["Create detector class inheriting from ",e.jsx(i.code,{children:"BaseDetector"})," in ",e.jsx(i.code,{children:"src/services/detection/"})]}),`
`,e.jsxs(i.li,{children:["Implement ",e.jsx(i.code,{children:"load_model()"})," and ",e.jsx(i.code,{children:"process_frame()"})," methods"]}),`
`,e.jsxs(i.li,{children:["Use ",e.jsx(i.code,{children:"self.tracking_id_service.get_or_create_cuid()"})," for track IDs"]}),`
`,e.jsxs(i.li,{children:["Use ",e.jsx(i.code,{children:"self.tracking_id_service.format_detection_payload()"})," for output format"]}),`
`,e.jsxs(i.li,{children:["Add ",e.jsx(i.code,{children:"DetectionMode"})," enum value in ",e.jsx(i.code,{children:"src/config/models.py"})]}),`
`,e.jsxs(i.li,{children:["Register in ",e.jsx(i.code,{children:"DetectorFactory.create_detector()"})," in ",e.jsx(i.code,{children:"src/services/detection/factory.py"})]}),`
`]}),`
`,e.jsx(i.hr,{}),`
`,e.jsx(n,{type:"info",children:e.jsxs(i.p,{children:["For full documentation and source code, see the ",e.jsx(i.a,{href:"https://github.com/Constellation-Overwatch/vision2constellation",children:"GitHub repository"}),"."]})})]})}function c(s={}){const{wrapper:i}=s.components||{};return i?e.jsx(i,{...s,children:e.jsx(t,{...s})}):t(s)}function a(s,i){throw new Error("Expected component `"+s+"` to be defined: you likely forgot to import, pass, or provide it.")}export{c as default,h as frontmatter,d as structuredData,r as toc};
