---
title: Configuration
description: CLI options and environment variables for Constellation Overwatch
icon: Settings
---

Configure Constellation Overwatch using CLI flags or environment variables.

## CLI Options

```bash
overwatch [options]
```

| Flag | Default | Description |
| ---- | ------- | ----------- |
| `-port` | `8080` | HTTP server port |
| `-nats-port` | `4222` | NATS server port |
| `-api-token` | `reindustrialize-dev-token` | API bearer token |
| `-nats-token` | `reindustrialize-america` | NATS authentication token |
| `-data-dir` | `./data` | Root data directory (DB and NATS storage) |
| `-log-level` | `info` | Logging level (debug, info, warn, error) |
| `--update` | - | Update to the latest version from GitHub releases |

## Updating

Update to the latest version with a single command:

```bash
overwatch --update
```

This will:
1. Check GitHub for the latest release
2. Download the appropriate binary for your platform
3. Replace the current binary with the new version

## Environment Variables

All CLI options can also be set via environment variables:

| Variable | CLI Flag | Description |
| -------- | -------- | ----------- |
| `OVERWATCH_TOKEN` | `-api-token` | Unified token for API and NATS authentication |
| `PORT` | `-port` | HTTP server port |
| `OVERWATCH_DATA_DIR` | `-data-dir` | Root data directory (default: `./data`) |
| `NATS_PORT` | `-nats-port` | NATS server port |
| `WEB_UI_PASSWORD` | - | Password for Web UI access (leave empty to disable) |
| `OVERWATCH_LOG_LEVEL` | `-log-level` | Logging level |

### Data Directory Layout

The `OVERWATCH_DATA_DIR` variable controls a single root directory from which all storage paths are derived:

```
${OVERWATCH_DATA_DIR}/          # default: ./data
├── db/constellation.db         # SQLite database
└── overwatch/                  # NATS JetStream storage
```

<Callout type="info">
**Migrating from older versions**: If you previously used `DB_PATH` or `NATS_DATA_DIR` in your `.env` file, replace them with a single `OVERWATCH_DATA_DIR` entry. Those variables are no longer read.
</Callout>

## Example Configurations

### Development

```bash
overwatch
```

Uses all default values for local development.

### Production

```bash
overwatch \
  -port 8080 \
  -api-token $(openssl rand -hex 32) \
  -log-level warn
```

### Update Check

```bash
# Check for and install updates
overwatch --update
```

### Docker

```bash
docker run -d \
  -p 8080:8080 \
  -p 4222:4222 \
  -e OVERWATCH_TOKEN=your-secure-token \
  -e WEB_UI_PASSWORD=your-web-password \
  -e OVERWATCH_DATA_DIR=/data \
  -v $(pwd)/data:/data \
  constellation-overwatch
```

## Security Recommendations

<Callout type="warn">
Always use strong, randomly generated tokens in production environments.
</Callout>

- Generate tokens with at least 32 bytes of entropy
- Never commit tokens to version control
- Use environment variables or secrets management in production
- Rotate tokens periodically
